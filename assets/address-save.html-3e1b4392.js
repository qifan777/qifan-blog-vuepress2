import{_ as u}from"./plugin-vue_export-helper-c27b6911.js";import{r as l,o as i,c as r,e as n,f as s,d as c,w as a,a as k}from"./app-47b938de.js";const d="/qifan-blog-vuepress2/assets/address-save-3ccb7e81.png",m={},v=k('<h1 id="地址保存" tabindex="-1"><a class="header-anchor" href="#地址保存" aria-hidden="true">#</a> 地址保存</h1><figure><img src="'+d+'" alt="地址保存页面" height="350" tabindex="0" loading="lazy"><figcaption>地址保存页面</figcaption></figure><h2 id="腾讯地图插件配置" tabindex="-1"><a class="header-anchor" href="#腾讯地图插件配置" aria-hidden="true">#</a> 腾讯地图插件配置</h2>',3),b=n("div",{class:"language-typescript line-numbers-mode","data-ext":"ts"},[n("pre",{ts:"",class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"default"),s(),n("span",{class:"token function"},"defineAppConfig"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  pages`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token string"},'"pages/index/index"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token string"},'"pages/user/index"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token string"},'"pages/address/address-list"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token string"},'"pages/address/address-save"'),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token comment"},"// 忽略..."),s(`
  plugins`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    chooseLocation`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
      version`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"1.0.10"'),n("span",{class:"token punctuation"},","),s(`
      provider`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"wx76a9a06e5b4e693e"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  permission`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token string-property property"},'"scope.userLocation"'),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
      desc`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"你的位置将用于确认收货地址"'),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  requiredPrivateInfos`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},'"getLocation"'),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`)])]),n("div",{class:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("br"),n("br")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),g={class:"hint-container info"},h=n("p",{class:"hint-container-title"},"相关信息",-1),y={href:"https://lbs.qq.com/miniProgram/plugin/pluginGuide/locationPicker",target:"_blank",rel:"noopener noreferrer"},f=n("h2",{id:"源码解析",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#源码解析","aria-hidden":"true"},"#"),s(" 源码解析")],-1),_=n("h3",{id:"地图标点",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#地图标点","aria-hidden":"true"},"#"),s(" 地图标点")],-1),x=n("ul",null,[n("li",null,[n("code",null,':markers="[marker]"'),s("：传入一个包含单个标记（marker）的数组，代表地图上的某个特定地点标记。")])],-1),w=n("div",{class:"language-html line-numbers-mode","data-ext":"html"},[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("template")]),n("span",{class:"token punctuation"},">")]),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("address-save"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("map")]),s(`
      `),n("span",{class:"token attr-name"},"id"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("map"),n("span",{class:"token punctuation"},'"')]),s(`
      `),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("map"),n("span",{class:"token punctuation"},'"')]),s(`
      `),n("span",{class:"token attr-name"},":latitude"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("address.latitude - 0.004"),n("span",{class:"token punctuation"},'"')]),s(`
      `),n("span",{class:"token attr-name"},":longitude"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("address.longitude"),n("span",{class:"token punctuation"},'"')]),s(`
      `),n("span",{class:"token attr-name"},":markers"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("[marker]"),n("span",{class:"token punctuation"},'"')]),s(`
    `),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("map")]),n("span",{class:"token punctuation"},">")]),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("template")]),n("span",{class:"token punctuation"},">")]),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),q=n("ol",null,[n("li",null,[n("p",null,[s("使用"),n("code",null,"computed"),s("计算属性创建一个名为"),n("code",null,"marker"),s("的对象，用自定义图标标记当前位置：")]),n("ul",null,[n("li",null,[n("code",null,"id"),s(": 标记点的唯一ID。")]),n("li",null,[n("code",null,"iconPath"),s(": 自定义图标路径，指向一个本地地址图片资源。")]),n("li",null,[n("code",null,"latitude"),s(" 和 "),n("code",null,"longitude"),s(": 标记点在地图上的经纬度坐标，通过响应式变量"),n("code",null,"address.value.latitude"),s("和"),n("code",null,"address.value.longitude"),s("获取。")]),n("li",null,[n("code",null,"width"),s(" 和 "),n("code",null,"height"),s(": 图标在地图上的宽高。")])])]),n("li",null,[n("p",null,"使用Taro框架处理用户地理位置授权，并获取当前位置经纬度："),n("ul",null,[n("li",null,[s("首先调用"),n("code",null,"Taro.authorize"),s("方法请求用户的地理位置权限。")]),n("li",null,[s("授权成功后，调用"),n("code",null,"Taro.getLocation"),s("获取当前设备的经纬度信息。")]),n("li",null,[s("在获取到经纬度后，检查当前是否处于编辑状态（即"),n("code",null,"address.value.id"),s("是否存在）。如果不是编辑状态，则将当前经纬度赋值给"),n("code",null,"address.value"),s("中的经纬度字段。")])])]),n("li",null,[n("p",null,[n("code",null,"address"),s(": 存储地址表单信息")])])],-1),A=n("div",{class:"language-typescript line-numbers-mode","data-ext":"ts"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" computed"),n("span",{class:"token punctuation"},","),s(" ref "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"vue"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(" Taro"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(" requirePlugin "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@tarojs/taro"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" api "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@/utils/api-instance"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" AddressInput "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@/apis/__generated/model/static"'),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" RectRight "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"@nutui/icons-vue-taro"'),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"// 当前位置在地图上标记，自定义图标"),s(`
`),n("span",{class:"token keyword"},"const"),s(" marker "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"computed"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"{"),s(`
    id`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},","),s(`
    iconPath`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"/assets/icons/address.png"'),n("span",{class:"token punctuation"},","),s(`
    latitude`),n("span",{class:"token operator"},":"),s(" address"),n("span",{class:"token punctuation"},"."),s("value"),n("span",{class:"token punctuation"},"."),s("latitude"),n("span",{class:"token punctuation"},","),s(`
    longitude`),n("span",{class:"token operator"},":"),s(" address"),n("span",{class:"token punctuation"},"."),s("value"),n("span",{class:"token punctuation"},"."),s("longitude"),n("span",{class:"token punctuation"},","),s(`
    width`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"40"),n("span",{class:"token punctuation"},","),s(`
    height`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"40"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token comment"},"// 获取到当前经纬度"),s(`
Taro`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"authorize"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  scope`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"scope.userLocation"'),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token function"},"success"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    Taro`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getLocation"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token function-variable function"},"success"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"("),s("res"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token comment"},"// 编辑时不需要获取当前地址"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"!"),s("address"),n("span",{class:"token punctuation"},"."),s("value"),n("span",{class:"token punctuation"},"."),s("id"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
          address`),n("span",{class:"token punctuation"},"."),s("value"),n("span",{class:"token punctuation"},"."),s("latitude "),n("span",{class:"token operator"},"="),s(" res"),n("span",{class:"token punctuation"},"."),s("latitude"),n("span",{class:"token punctuation"},";"),s(`
          address`),n("span",{class:"token punctuation"},"."),s("value"),n("span",{class:"token punctuation"},"."),s("longitude "),n("span",{class:"token operator"},"="),s(" res"),n("span",{class:"token punctuation"},"."),s("longitude"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token comment"},"// 地址信息"),s(`
`),n("span",{class:"token keyword"},"const"),s(" address "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token generic-function"},[n("span",{class:"token function"},"ref"),n("span",{class:"token generic class-name"},[n("span",{class:"token operator"},"<"),s("AddressInput"),n("span",{class:"token operator"},">")])]),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
  address`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},","),s(`
  city`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},","),s(`
  details`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},","),s(`
  district`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},","),s(`
  latitude`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"23.099994"),n("span",{class:"token punctuation"},","),s(`
  longitude`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token number"},"113.32452"),n("span",{class:"token punctuation"},","),s(`
  phoneNumber`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},","),s(`
  province`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},","),s(`
  realName`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'""'),n("span",{class:"token punctuation"},","),s(`
  top`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),T=n("div",{class:"language-scss line-numbers-mode","data-ext":"scss"},[n("pre",{class:"language-scss"},[n("code",null,[n("span",{class:"token selector"},".address-save "),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token selector"},".map "),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token property"},"top"),n("span",{class:"token punctuation"},":"),s(" 0"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token property"},"position"),n("span",{class:"token punctuation"},":"),s(" absolute"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token property"},"z-index"),n("span",{class:"token punctuation"},":"),s(" -1"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token property"},"width"),n("span",{class:"token punctuation"},":"),s(" 100%"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token property"},"height"),n("span",{class:"token punctuation"},":"),s(" 100vh"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),L=n("h3",{id:"地址表单",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#地址表单","aria-hidden":"true"},"#"),s(" 地址表单")],-1),I=n("ul",null,[n("li",null,[n("p",null,'"address-save"，它包裹了整个地址输入区域。')]),n("li",null,[n("p",null,[s('在".address-section"容器内，包含一个表单（'),n("code",null,".form"),s("）结构，用于展示并收集用户填写的地址详细信息。")])]),n("li",null,[n("p",null,[s("表单中，每个字段以"),n("code",null,".form-item"),s("作为布局单元，包括：")]),n("ul",null,[n("li",null,[n("code",null,"门牌号"),s("：通过一个带有"),n("code",null,'v-model="address.details"'),s("的输入框收集用户输入的具体门牌号或详细地址。")]),n("li",null,[n("code",null,"联系人"),s("：同样使用带绑定的输入框收集用户姓名信息，"),n("code",null,'v-model="address.realName"'),s("。")]),n("li",null,[n("code",null,"手机号"),s("：收集用户的手机号码，使用"),n("code",null,'v-model="address.phoneNumber"'),s("进行双向数据绑定。")])])])],-1),N=n("p",null,[s("所以，当用户在这些输入框中输入信息时，对应的"),n("code",null,"address"),s("对象中的各个属性（如"),n("code",null,"details"),s("、"),n("code",null,"realName"),s("和"),n("code",null,"phoneNumber"),s("）会自动更新，以便后续进行地址信息的验证与保存操作。")],-1),P=n("div",{class:"language-html line-numbers-mode","data-ext":"html"},[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("template")]),n("span",{class:"token punctuation"},">")]),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("address-save"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token comment"},"<!-- 忽略... -->"),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("address-section"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("form"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("form-item"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
          `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("label"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s("门牌号"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
          `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("input"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
            `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("input")]),s(),n("span",{class:"token attr-name"},"placeholder"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("请输入详细地址"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"v-model"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("address.details"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token punctuation"},"/>")]),s(`
          `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("form-item"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
          `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("label"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s("联系人"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
          `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("input"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
            `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("input")]),s(),n("span",{class:"token attr-name"},"placeholder"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("请输入姓名"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"v-model"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("address.realName"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token punctuation"},"/>")]),s(`
          `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("form-item"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
          `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("label"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s("手机号"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
          `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("input"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
            `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("input")]),s(),n("span",{class:"token attr-name"},"placeholder"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("请输入手机号"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"v-model"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("address.phoneNumber"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token punctuation"},"/>")]),s(`
          `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("template")]),n("span",{class:"token punctuation"},">")]),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),B=n("div",{class:"language-scss line-numbers-mode","data-ext":"scss"},[n("pre",{class:"language-scss"},[n("code",null,[n("span",{class:"token selector"},".address-save "),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token comment"},"// 忽略..."),s(`
  `),n("span",{class:"token selector"},".address-section "),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token property"},"background-color"),n("span",{class:"token punctuation"},":"),s(" white"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token property"},"height"),n("span",{class:"token punctuation"},":"),s(" 100vh"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token property"},"margin"),n("span",{class:"token punctuation"},":"),s(" 300rpx 20rpx 0 20rpx"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token property"},"border-radius"),n("span",{class:"token punctuation"},":"),s(" 20rpx"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token property"},"padding"),n("span",{class:"token punctuation"},":"),s(" 40rpx 20rpx"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token selector"},".form "),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token property"},"margin-top"),n("span",{class:"token punctuation"},":"),s(" 40rpx"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token selector"},".form-item "),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token property"},"display"),n("span",{class:"token punctuation"},":"),s(" flex"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token property"},"align-items"),n("span",{class:"token punctuation"},":"),s(" center"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token property"},"padding"),n("span",{class:"token punctuation"},":"),s(" 20rpx 0"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token selector"},".label "),n("span",{class:"token punctuation"},"{"),s(`
          `),n("span",{class:"token property"},"width"),n("span",{class:"token punctuation"},":"),s(" 120rpx"),n("span",{class:"token punctuation"},";"),s(`
          `),n("span",{class:"token property"},"font-weight"),n("span",{class:"token punctuation"},":"),s(" bold"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
        `),n("span",{class:"token selector"},".input "),n("span",{class:"token punctuation"},"{"),s(`
          `),n("span",{class:"token property"},"flex"),n("span",{class:"token punctuation"},":"),s(" 1"),n("span",{class:"token punctuation"},";"),s(`
          `),n("span",{class:"token property"},"padding"),n("span",{class:"token punctuation"},":"),s(" 20rpx 0"),n("span",{class:"token punctuation"},";"),s(`
          `),n("span",{class:"token property"},"border-bottom"),n("span",{class:"token punctuation"},":"),s(" 1px solid "),n("span",{class:"token function"},"rgba"),n("span",{class:"token punctuation"},"("),s("black"),n("span",{class:"token punctuation"},","),s(" 0.1"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
      `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`


`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),C=n("h3",{id:"地图选点",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#地图选点","aria-hidden":"true"},"#"),s(" 地图选点")],-1),R=n("div",{class:"language-html line-numbers-mode","data-ext":"html"},[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("template")]),n("span",{class:"token punctuation"},">")]),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("address-save"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token comment"},"<!-- 忽略... -->"),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("address-section"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("btn"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"@click"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("chooseAddress"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
        去选择收货地址
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("rect-right")]),s(),n("span",{class:"token attr-name"},"color"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("#999"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("rect-right")]),n("span",{class:"token punctuation"},">")]),s(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
      `),n("span",{class:"token comment"},"<!-- 忽略... -->"),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("template")]),n("span",{class:"token punctuation"},">")]),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),S=n("p",null,"调用腾讯地图选择地点插件，并在用户返回时获取所选位置信息并更新地址状态。",-1),z=n("ol",null,[n("li",null,[n("p",null,[s("首先加载"),n("code",null,"chooseLocation"),s("插件，这个插件允许用户跳转到腾讯地图页面进行位置选择。")])]),n("li",null,[n("p",null,[s("定义一个名为"),n("code",null,"chooseAddress"),s("的函数，用于打开腾讯地图的位置选择页面：")]),n("ul",null,[n("li",null,"函数内部设置了必要的参数，如API key（这里是示例key，请替换为实际有效的key）、来源信息（referer）和类别（category）。"),n("li",null,[s("使用Taro的"),n("code",null,"navigateTo"),s("方法跳转至插件提供的URL，该URL包含了传递给插件的关键参数。")])])]),n("li",null,[n("p",null,[s("使用Taro生命周期钩子"),n("code",null,"useDidShow"),s("，当页面显示时执行回调函数：")]),n("ul",null,[n("li",null,[s("当在腾讯地图中选择完毕回到本页面时，"),n("code",null,"chooseLocation.getLocation()"),s("方法获取用户在腾讯地图上选择的位置信息。")]),n("li",null,[s("将获取到的位置信息与现有的"),n("code",null,"address.value"),s("对象合并，并将结果赋值回"),n("code",null,"address.value"),s("。")])])])],-1),D=n("div",{class:"language-typescript line-numbers-mode","data-ext":"ts"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token comment"},"// 加载插件"),s(`
`),n("span",{class:"token keyword"},"const"),s(" chooseLocation "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token function"},"requirePlugin"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"chooseLocation"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token comment"},"// 跳转到腾讯地图选择地点"),s(`
`),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token function-variable function"},"chooseAddress"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token comment"},"// 你的key，我的key已经和我的小程序绑定了"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" key "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"ZWNBZ-2ARW3-J6H3Q-3SUEF-BILFZ-TLFPW"'),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" referer "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"华大快帮"'),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" category "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"小区"'),n("span",{class:"token punctuation"},";"),s(`
  Taro`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"navigateTo"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(`
    url`),n("span",{class:"token operator"},":"),s(`
      `),n("span",{class:"token string"},'"plugin://chooseLocation/index?key="'),s(),n("span",{class:"token operator"},"+"),s(`
      key `),n("span",{class:"token operator"},"+"),s(`
      `),n("span",{class:"token string"},'"&referer="'),s(),n("span",{class:"token operator"},"+"),s(`
      referer `),n("span",{class:"token operator"},"+"),s(`
      `),n("span",{class:"token string"},'"&category="'),s(),n("span",{class:"token operator"},"+"),s(`
      category`),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token comment"},"// 返回到小程序的时候获取用户选择的位置"),s(`
Taro`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"useDidShow"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"const"),s(" chooseAddress "),n("span",{class:"token operator"},"="),s(" chooseLocation"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getLocation"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  address`),n("span",{class:"token punctuation"},"."),s("value "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token operator"},"..."),s("address"),n("span",{class:"token punctuation"},"."),s("value"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token operator"},"..."),s("chooseAddress "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),E=n("div",{class:"language-scss line-numbers-mode","data-ext":"scss"},[n("pre",{class:"language-scss"},[n("code",null,[n("span",{class:"token selector"},".address-save "),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token comment"},"// 忽略..."),s(`
  `),n("span",{class:"token selector"},".address-section "),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token property"},"background-color"),n("span",{class:"token punctuation"},":"),s(" white"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token property"},"height"),n("span",{class:"token punctuation"},":"),s(" 100vh"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token property"},"margin"),n("span",{class:"token punctuation"},":"),s(" 300rpx 20rpx 0 20rpx"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token property"},"border-radius"),n("span",{class:"token punctuation"},":"),s(" 20rpx"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token property"},"padding"),n("span",{class:"token punctuation"},":"),s(" 40rpx 20rpx"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token selector"},".btn "),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token property"},"display"),n("span",{class:"token punctuation"},":"),s(" flex"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token property"},"align-items"),n("span",{class:"token punctuation"},":"),s(" center"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token property"},"justify-content"),n("span",{class:"token punctuation"},":"),s(" center"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token property"},"width"),n("span",{class:"token punctuation"},":"),s(" 400rpx"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token property"},"border"),n("span",{class:"token punctuation"},":"),s(" 1.5px solid orange"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token property"},"text-align"),n("span",{class:"token punctuation"},":"),s(" center"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token property"},"padding"),n("span",{class:"token punctuation"},":"),s(" 15rpx 50rpx"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token property"},"color"),n("span",{class:"token punctuation"},":"),s(" orange"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token property"},"font-weight"),n("span",{class:"token punctuation"},":"),s(" bold"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token property"},"margin"),n("span",{class:"token punctuation"},":"),s(" auto"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token property"},"border-radius"),n("span",{class:"token punctuation"},":"),s(" 15rpx"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token comment"},"// 忽略..."),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),V=n("h3",{id:"提交表单-回显表单",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#提交表单-回显表单","aria-hidden":"true"},"#"),s(" 提交表单/回显表单")],-1),F=n("div",{class:"language-html line-numbers-mode","data-ext":"html"},[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("template")]),n("span",{class:"token punctuation"},">")]),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("address-save"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token comment"},"<!-- 忽略... -->"),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("address-section"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token comment"},"<!-- 忽略... -->"),s(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("div")]),s(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("submit"),n("span",{class:"token punctuation"},'"')]),s(),n("span",{class:"token attr-name"},"@click"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),s("submit"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),s("保存地址"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("div")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("template")]),n("span",{class:"token punctuation"},">")]),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),U=n("p",null,"分别处理表单提交和编辑时的数据回显。",-1),W=n("ol",null,[n("li",null,[n("p",null,"提交表单功能："),n("ul",null,[n("li",null,[n("code",null,"submit"),s("函数负责处理地址信息的提交操作。当用户点击提交按钮时调用此函数。")]),n("li",null,[s("通过调用后端API（"),n("code",null,"api.addressController.save"),s("）将表单中"),n("code",null,"address.value"),s("对象的值作为请求体发送到服务器进行保存。")]),n("li",null,[s("若保存成功，则使用Taro库提供的"),n("code",null,"Taro.showToast"),s('方法显示一个“提交成功”的提示消息，并带有"success"图标。')]),n("li",null,[s("提交成功后，调用"),n("code",null,"Taro.navigateBack"),s("方法使页面返回上一级，即从地址编辑或添加页面返回至前一页面。")])])]),n("li",null,[n("p",null,"编辑回显功能："),n("ul",null,[n("li",null,[s("使用Taro生命周期钩子"),n("code",null,"useLoad"),s("在页面加载时执行回调函数，该函数接收一个参数ops，可能包含了页面跳转时传递的查询参数。")]),n("li",null,[s("如果"),n("code",null,"ops.id"),s("存在（表明当前是在编辑地址），则调用后端API（"),n("code",null,"api.addressController.findById"),s("）根据传入的ID获取相应的地址详情。")]),n("li",null,[s("获取到地址详情后，将其赋值给响应式变量"),n("code",null,"address.value"),s("，从而实现地址数据在表单中的回显。")])])])],-1),Z=n("div",{class:"language-typescript line-numbers-mode","data-ext":"ts"},[n("pre",{class:"language-typescript"},[n("code",null,[n("span",{class:"token comment"},"// 提交表单"),s(`
`),n("span",{class:"token keyword"},"const"),s(),n("span",{class:"token function-variable function"},"submit"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  api`),n("span",{class:"token punctuation"},"."),s("addressController"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"save"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(" body"),n("span",{class:"token operator"},":"),s(" address"),n("span",{class:"token punctuation"},"."),s("value "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"then"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
    Taro`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"showToast"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(" title"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"提交成功"'),n("span",{class:"token punctuation"},","),s(" icon"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"success"'),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    Taro`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"navigateBack"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token comment"},"// 编辑回显"),s(`
Taro`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"useLoad"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),s("ops"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"any"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("ops"),n("span",{class:"token punctuation"},"."),s("id"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
    api`),n("span",{class:"token punctuation"},"."),s("addressController"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"findById"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),s(" id"),n("span",{class:"token operator"},":"),s(" ops"),n("span",{class:"token punctuation"},"."),s("id "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"then"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),s("res"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token punctuation"},"{"),s(`
      address`),n("span",{class:"token punctuation"},"."),s("value "),n("span",{class:"token operator"},"="),s(" res"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),j=n("div",{class:"language-scss line-numbers-mode","data-ext":"scss"},[n("pre",{class:"language-scss"},[n("code",null,[n("span",{class:"token selector"},".address-save "),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token comment"},"// 忽略..."),s(`
  `),n("span",{class:"token selector"},".address-section "),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token property"},"background-color"),n("span",{class:"token punctuation"},":"),s(" white"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token property"},"height"),n("span",{class:"token punctuation"},":"),s(" 100vh"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token property"},"margin"),n("span",{class:"token punctuation"},":"),s(" 300rpx 20rpx 0 20rpx"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token property"},"border-radius"),n("span",{class:"token punctuation"},":"),s(" 20rpx"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token property"},"padding"),n("span",{class:"token punctuation"},":"),s(" 40rpx 20rpx"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token comment"},"// 忽略..."),s(`
    `),n("span",{class:"token selector"},".submit "),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token property"},"margin-top"),n("span",{class:"token punctuation"},":"),s(" 30rpx"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token property"},"text-align"),n("span",{class:"token punctuation"},":"),s(" center"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token property"},"padding"),n("span",{class:"token punctuation"},":"),s(" 20rpx 0"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token property"},"font-weight"),n("span",{class:"token punctuation"},":"),s(" bold"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token property"},"background-image"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token function"},"linear-gradient"),n("span",{class:"token punctuation"},"("),s("#fcd956"),n("span",{class:"token punctuation"},","),s(" #f5d131"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
      `),n("span",{class:"token property"},"border-radius"),n("span",{class:"token punctuation"},":"),s(" 15rpx"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1);function G(H,J){const p=l("ExternalLinkIcon"),o=l("Tabs");return i(),r("div",null,[v,b,n("div",g,[h,n("p",null,[s("请参照"),n("a",y,[s("腾讯地图小程序插件接入指南"),c(p)])])]),f,_,x,c(o,{id:"28",data:[{id:"html"},{id:"ts"},{id:"css"}]},{title0:a(({value:t,isActive:e})=>[s("html")]),title1:a(({value:t,isActive:e})=>[s("ts")]),title2:a(({value:t,isActive:e})=>[s("css")]),tab0:a(({value:t,isActive:e})=>[w]),tab1:a(({value:t,isActive:e})=>[q,A]),tab2:a(({value:t,isActive:e})=>[T]),_:1}),L,c(o,{id:"98",data:[{id:"html"},{id:"css"}]},{title0:a(({value:t,isActive:e})=>[s("html")]),title1:a(({value:t,isActive:e})=>[s("css")]),tab0:a(({value:t,isActive:e})=>[I,N,P]),tab1:a(({value:t,isActive:e})=>[B]),_:1}),C,c(o,{id:"146",data:[{id:"html"},{id:"ts"},{id:"css"}]},{title0:a(({value:t,isActive:e})=>[s("html")]),title1:a(({value:t,isActive:e})=>[s("ts")]),title2:a(({value:t,isActive:e})=>[s("css")]),tab0:a(({value:t,isActive:e})=>[R]),tab1:a(({value:t,isActive:e})=>[S,z,D]),tab2:a(({value:t,isActive:e})=>[E]),_:1}),V,c(o,{id:"204",data:[{id:"html"},{id:"ts"},{id:"css"}]},{title0:a(({value:t,isActive:e})=>[s("html")]),title1:a(({value:t,isActive:e})=>[s("ts")]),title2:a(({value:t,isActive:e})=>[s("css")]),tab0:a(({value:t,isActive:e})=>[F]),tab1:a(({value:t,isActive:e})=>[U,W,Z]),tab2:a(({value:t,isActive:e})=>[j]),_:1})])}const M=u(m,[["render",G],["__file","address-save.html.vue"]]);export{M as default};
